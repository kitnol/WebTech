<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Music Player</title>
</head>
<body>
    <div class="music-player">
        <h1>Music Player</h1>
        <div class="track-info">
            <p id="track-title">Track Title</p>
            <p id="track-artist">Track Artist</p>
        </div>
        
        <audio id="audio" src=""></audio>
    </div>
    <div class="footer">
        <div></div>
        <!--<div class="seekbar-container">
            <div id="seekbar" style="height:15%"></div>
        </div>-->
        <div class="progress-container">
            <div class="progress-circle" id="progressCircle">
                <!--<div class="progress-text" id="progressText">0%</div>-->
                <img class="track-art" src="vinyl_PNG18-2327334362.png" alt="Track Art" unselectable="on" style="rotate: 10deg;">
            </div>
        </div>
        <div id="volume">
            <input class="volume" type ="range" min="0" max="1" value="1" step="0.01">
        </div>
        <div id="current-time">0:00</div>

        
        <div class="controls">
            <button onclick="player.previous()" id="frbk"><i class="fa fa-backward" style="align-items: center;"></i></button>
            <button onclick="player.play()" ><i id = "playBt" class="fa fa-play"></i></button>
            <button onclick="player.next()" id="frbk"><i class="fa fa-forward"></i></button>
        </div>
        <div id="volume-icon">
            <i class="fa fa-volume-up vol-ico"></i>
        </div>
    </div>

    <script src="js/player.js"></script>
   <script>
        const progressCircle = document.getElementById('progressCircle');
        const progressText = document.getElementById('progressText');
        const progressSlider = document.getElementById('progressSlider');

        function setProgress(percentage) {
            // Ensure percentage is between 0 and 100
            percentage = Math.max(0, Math.min(100, percentage));
            
            // Calculate the angle for the conic gradient
            const angle = (percentage / 100) * 360;
            
            // Update the conic gradient
            progressCircle.style.background = `conic-gradient(
                #4CAF50 0deg,
                #4CAF50 ${angle}deg,
                #e0e0e0 ${angle}deg
            )`;
            
            // Update the text
            progressText.textContent = `${Math.round(percentage)}%`;
            
            // Update slider
            progressSlider.value = percentage;
        }

        // Slider event listener
        progressSlider.addEventListener('input', function() {
            setProgress(this.value);
        });

        // Animate progress function
        function animateProgress() {
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                setProgress(progress);
                
                if (progress >= 100) {
                    clearInterval(interval);
                }
            }, 50);
        }

        // Initialize with 0%
        setProgress(0);
    </script>
</body>
</html>